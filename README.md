# online-taxi-three
springcloud实践，网约车项目搭建
1. 如果项目交付工作没完成，怎么办？
   1. 加班
   2. 加人，加资源
   3. 对功能点排优先级，保证总体流程能用，没上功能下次迭代上线
2. 微服务设计原则
   1. 架构，模式，拆分，隔离。目标：**隔离系统的变化点**
3. AKF（并发量太高，服务器扛不住治理方案）
   1. x轴，水平复制，AAA
   2. y轴，A，将A进行功能拆分
   3. z轴，数据分片：手机、服饰、家电    杭州、北京
4. 基础业务架构图
   1. 乘客端、司机端、微信端、官网web，boss端
5. 服务
   1. zipkin、sleuth链路追踪，config 配置中心、boot-admin健康检查、eureka注册中心、hysteric熔断降级



### DAY7 乘客发送验证码-qps提升
###### 提高QPS：
1. 能用多线程就用多线程
2. 增加各种连接数（线程池 ，tomcat、mysql、redis等）
3. 服务无状态，便于横向扩展，扩机器
4. 让服务能力对等（serviceUrl：打乱顺序）
5. 减少响应时间（缓存，FutureTask，编程式事务）


###### 线程池线程数的定义
```线程数=CPU核数/（1-阻塞系数）（IO密集型系数接近1，CPU密集型系数接近0）```

学习心得
- 生产中不能使用快照版本
- 常用的数据，用缓存，不要每次都db（IO瓶颈：网络，磁盘IO，减少IO）
- review代码有很多性能的优化点，都是一些小细节